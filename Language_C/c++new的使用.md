`new` 是 C++ 中用于动态分配内存的关键字。它在堆上分配内存，并返回指向新分配的内存的指针。`new` 在许多场景中非常有用，例如创建动态数组、对象、链表、树结构等。以下是 `new` 的主要用法和注意事项：

### 基础用法
1. **分配单个对象**:
   ```cpp
   int* p = new int;  // 在堆上分配一个整数，p 是指向它的指针
   *p = 10;           // 给该整数赋值
   ```

2. **分配数组**:
   ```cpp
   int* arr = new int[10];  // 分配一个包含 10 个整数的数组
   arr[0] = 1;              // 访问数组元素
   ```

### 自定义对象的分配
1. **创建单个对象**:
   ```cpp
   class MyClass {
   public:
       int data;
   };
   
   MyClass* obj = new MyClass();  // 在堆上分配一个 MyClass 对象
   obj->data = 42;                // 设置对象的属性
   ```

2. **创建对象数组**:
   ```cpp
   MyClass* objArr = new MyClass[5];  // 分配一个包含 5 个 MyClass 对象的数组
   ```

### 注意事项
1. **内存释放**:
   - 对于单个对象，使用 `delete` 释放内存：
     ```cpp
     delete p;  // 释放内存
     ```
   - 对于数组，使用 `delete[]` 释放内存：
     ```cpp
     delete[] arr;  // 释放数组内存
     ```

2. **避免内存泄漏**:
   - 每次使用 `new` 分配内存时，应确保在合适的地方释放内存，避免内存泄漏。
   - 如果内存不及时释放，可能导致程序占用过多内存，甚至可能导致程序崩溃。

3. **异常处理**:
   - `new` 可能抛出 `std::bad_alloc` 异常，如果无法分配内存。
   - 为了处理这种异常，可以使用 `try-catch` 结构：
     ```cpp
     try {
         int* p = new int[1000000];
     } catch (std::bad_alloc& e) {
         std::cerr << "Memory allocation failed: " << e.what() << std::endl;
     }
     ```

### 总结
`new` 是 C++ 中用于动态内存分配的关键字，它提供了在程序运行时分配和释放内存的灵活性。然而，这种灵活性也需要更大的责任，确保在分配内存后正确释放，避免内存泄漏。